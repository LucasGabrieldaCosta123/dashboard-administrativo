<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard Administrativo</title>
  <link rel="icon" type="image/jpeg" href="https://i.postimg.cc/KzXMQVmB/Captura-de-tela-29-12-2025-222011-localhost.jpg">
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#00c3a3;--muted:#9aa4b2;--danger:#ff6b6b}
    body{margin:0;font-family:Inter,Segoe UI,Arial;background:linear-gradient(180deg,#071021 0%,#071726 100%);color:#e6eef6}
    .container{max-width:1100px;margin:32px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:20px}
    h1{margin:0;font-size:20px;letter-spacing:0.4px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:18px}
    .card{background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .status{display:flex;align-items:center;gap:12px}
    .dot{width:12px;height:12px;border-radius:50%}
    .dot.online{background:var(--accent);box-shadow:0 0 8px rgba(0,195,163,0.2)}
    .dot.offline{background:var(--danger)}
    .controls button{margin-right:8px;padding:8px 12px;border-radius:8px;border:0;background:#132033;color:#e6eef6;cursor:pointer}
    .controls button.primary{background:var(--accent);color:#04221a}
    .controls button.danger{background:var(--danger)}
    button{margin-right:8px;padding:8px 12px;border-radius:8px;border:0;background:#132033;color:#e6eef6;cursor:pointer;font-family:inherit}
    button.primary{background:var(--accent);color:#04221a}
    button.danger{background:var(--danger)}
    button:disabled{opacity:0.6;cursor:not-allowed}
    .full{grid-column:1/-1}
    textarea, input[type="text"], input[type="password"], select{width:100%;padding:8px;border-radius:8px;border:1px solid #193043;background:#071827;color:#e6eef6}
    .log{height:220px;overflow:auto;font-family:monospace;font-size:13px;padding:10px;background:#02101a;border-radius:8px}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    
    /* ONBOARDING STYLES */
    .onboarding-overlay{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background:#000;
      z-index:9999;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      opacity:1;
      transition:opacity 0.5s ease;
      overflow-y:auto;
      padding:20px 0;
    }
    .onboarding-overlay.hidden{
      opacity:0;
      pointer-events:none;
    }
    .tutorial-slide{
      display:none;
      flex-direction:column;
      align-items:center;
      max-width:800px;
      width:90%;
      text-align:center;
      padding:20px;
      margin:auto;
    }
    .tutorial-slide.active{
      display:flex;
    }
    .tutorial-image{
      width:100%;
      max-width:700px;
      height:auto;
      min-height:250px;
      background:#1a1a1a;
      border-radius:12px;
      margin-bottom:20px;
      display:flex;
      align-items:center;
      justify-content:center;
      border:2px solid #333;
      overflow:hidden;
      flex-shrink:0;
    }
    .tutorial-image img{
      width:100%;
      height:auto;
      object-fit:contain;
    }
    .tutorial-text{
      color:#fff;
      font-size:16px;
      line-height:1.6;
      margin-bottom:20px;
      max-width:600px;
    }
    .tutorial-text h2{
      color:var(--accent);
      font-size:24px;
      margin-bottom:15px;
    }
    .tutorial-buttons{
      display:flex;
      gap:15px;
      margin-top:15px;
    }
    .tutorial-btn{
      padding:12px 28px;
      border:none;
      border-radius:8px;
      font-size:15px;
      cursor:pointer;
      transition:transform 0.2s;
    }
    .tutorial-btn:hover{
      transform:scale(1.05);
    }
    .btn-prev{
      background:#333;
      color:#fff;
    }
    .btn-next{
      background:var(--accent);
      color:#000;
      font-weight:bold;
    }
    .btn-start{
      background:var(--accent);
      color:#000;
      font-weight:bold;
      padding:16px 48px;
      font-size:18px;
    }
    .progress-dots{
      display:flex;
      gap:10px;
      margin-top:20px;
      margin-bottom:20px;
    }
    .progress-dot{
      width:12px;
      height:12px;
      border-radius:50%;
      background:#333;
      transition:background 0.3s;
    }
    .progress-dot.active{
      background:var(--accent);
    }
    
    @media(max-width:880px){ 
      .grid{grid-template-columns:1fr;}
      .tutorial-image{height:200px;}
      .tutorial-text{font-size:14px;}
      .tutorial-text h2{font-size:20px;}
      .tutorial-btn{padding:10px 20px;font-size:14px;}
      .container{padding:10px;}
      h1{font-size:18px;}
      .card{padding:12px;}
      button{font-size:13px !important;padding:8px 12px !important;}
      input, select, textarea{font-size:14px;}
    }
    
    /* COOKIE CONSENT STYLES */
    .cookie-overlay{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background:rgba(0,0,0,0.9);
      z-index:10000;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:1;
      transition:opacity 0.3s ease;
    }
    .cookie-overlay.hidden{
      opacity:0;
      pointer-events:none;
    }
    .cookie-box{
      background:#0a1018;
      padding:30px;
      border-radius:12px;
      max-width:500px;
      text-align:center;
      border:1px solid #1a2942;
    }
    .cookie-box h3{
      color:var(--accent);
      margin-top:0;
    }
    .cookie-box p{
      color:var(--muted);
      line-height:1.6;
    }
    .cookie-box input{
      width:100%;
      padding:10px;
      margin:15px 0;
      border-radius:8px;
      border:1px solid #193043;
      background:#071827;
      color:#e6eef6;
      font-size:15px;
    }
    .cookie-box button{
      padding:12px 30px;
      border:none;
      border-radius:8px;
      background:var(--accent);
      color:#000;
      font-weight:bold;
      cursor:pointer;
      font-size:15px;
      transition:transform 0.2s;
    }
    .cookie-box button:hover{
      transform:scale(1.05);
    }
  </style>
<script> window.chtlConfig = { chatbotId: "1258971164" } </script>
<script async data-id="1258971164" id="chtl-script" type="text/javascript" src="https://chatling.ai/js/embed.js"></script>
</head>
<body>
  <div id="cookieOverlay" class="cookie-overlay">
    <div class="cookie-box">
      <h3>üç™ Permiss√£o de Cookies</h3>
      <p>Este site utiliza cookies para armazenar suas prefer√™ncias e configura√ß√µes at√© 3099.</p>
      <p><strong>Digite seu nome ou o nome do bot:</strong></p>
      <input type="text" id="userNameInput" placeholder="Ex: Jo√£o Silva" maxlength="30" />
      <p style="font-size:13px;color:#666;margin-top:5px">Isso ser√° exibido no dashboard como "User: {seu nome}"</p>
      <button onclick="acceptCookies()">Aceitar e Continuar</button>
    </div>
  </div>

  <div id="onboardingOverlay" class="onboarding-overlay">
    <div class="tutorial-slide active" data-slide="0">
      <div class="tutorial-image">
        <img src="https://i.postimg.cc/1zTt5fkT/Captura-de-tela-2025-12-07-004011.png" alt="Passo 1">
      </div>
      <div class="tutorial-text">
        <h2>Passo 1: Conectar o Bot</h2>
        <p>Cole o <strong>token do seu bot Discord</strong> no campo "Bot token" e o <strong>Client ID</strong> (opcional).</p>
        <p>Clique em <strong>"Conectar bot"</strong> para ativar. O status mudar√° para "Online" quando conectado com sucesso.</p>
      </div>
      <div class="tutorial-buttons">
        <button class="tutorial-btn btn-next" onclick="nextSlide()">Pr√≥ximo ‚Üí</button>
      </div>
      <div class="progress-dots">
        <div class="progress-dot active"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
      </div>
    </div>

    <div class="tutorial-slide" data-slide="1">
      <div class="tutorial-image">
        <img src="https://i.postimg.cc/d0X1tLbz/Captura-de-tela-2025-12-07-004023.png" alt="Passo 2">
      </div>
      <div class="tutorial-text">
        <h2>Passo 2: Atualizar Servidores</h2>
        <p>Ap√≥s conectar o bot, clique em <strong>"Atualizar servidores"</strong> para listar todos os servidores onde o bot est√° presente.</p>
        <p>Isso permite que voc√™ escolha onde enviar suas mensagens.</p>
      </div>
      <div class="tutorial-buttons">
        <button class="tutorial-btn btn-prev" onclick="prevSlide()">‚Üê Anterior</button>
        <button class="tutorial-btn btn-next" onclick="nextSlide()">Pr√≥ximo ‚Üí</button>
      </div>
      <div class="progress-dots">
        <div class="progress-dot"></div>
        <div class="progress-dot active"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
      </div>
    </div>

    <div class="tutorial-slide" data-slide="2">
      <div class="tutorial-image">
        <img src="https://i.postimg.cc/FzHnWHRF/Captura-de-tela-2025-12-07-004740.png" alt="Passo 3">
      </div>
      <div class="tutorial-text">
        <h2>Passo 3: Selecionar o Canal</h2>
        <p>Escolha um <strong>servidor</strong> da lista e depois selecione o <strong>canal espec√≠fico</strong> onde deseja enviar mensagens.</p>
        <p>Os canais dispon√≠veis ser√£o carregados automaticamente ap√≥s selecionar o servidor.</p>
      </div>
      <div class="tutorial-buttons">
        <button class="tutorial-btn btn-prev" onclick="prevSlide()">‚Üê Anterior</button>
        <button class="tutorial-btn btn-next" onclick="nextSlide()">Pr√≥ximo ‚Üí</button>
      </div>
      <div class="progress-dots">
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot active"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
      </div>
    </div>

    <div class="tutorial-slide" data-slide="3">
      <div class="tutorial-image">
        <img src="https://i.postimg.cc/ZqgRKWkk/Captura-de-tela-2025-12-07-004035.png" alt="Passo 4">
      </div>
      <div class="tutorial-text">
        <h2>Passo 4: Enviar Mensagens</h2>
        <p>Digite sua mensagem na √°rea de texto e clique em <strong>"Enviar para canal selecionado"</strong>.</p>
        <p>Todas as a√ß√µes ser√£o registradas no <strong>log de atividade</strong> abaixo para voc√™ acompanhar.</p>
      </div>
      <div class="tutorial-buttons">
        <button class="tutorial-btn btn-prev" onclick="prevSlide()">‚Üê Anterior</button>
        <button class="tutorial-btn btn-next" onclick="nextSlide()">Pr√≥ximo ‚Üí</button>
      </div>
      <div class="progress-dots">
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot active"></div>
        <div class="progress-dot"></div>
      </div>
    </div>

    <div class="tutorial-slide" data-slide="4">
      <div class="tutorial-text" style="margin-top:80px">
        <h2>üéâ Parab√©ns, voc√™ chegou ao fim!</h2>
        <p style="margin-top:30px;font-size:20px">Mas <strong style="color:#ff6b6b">cuidado no que est√° fazendo</strong>.</p>
        <p style="margin-top:20px;font-size:18px">‚ö†Ô∏è <strong>Nunca compartilhe seu token de bot com ningu√©m!</strong></p>
        <p style="font-size:16px;margin-top:10px">Ele d√° acesso total ao seu bot Discord.</p>
        <p style="margin-top:40px;font-size:17px">Clique no bot√£o abaixo para ir ao dashboard.</p>
      </div>
      <div class="tutorial-buttons">
        <button class="tutorial-btn btn-prev" onclick="prevSlide()">‚Üê Anterior</button>
        <button class="tutorial-btn btn-start" onclick="startDashboard()">‚ú® Estou pronto, iniciar!</button>
      </div>
      <div class="progress-dots">
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot active"></div>
      </div>
    </div>
  </div>

  <div class="container">
    <header>
      <h1>Dashboard Administrativo</h1>
      <div><small style="color:var(--muted)" id="userDisplay">Local</small></div>
    </header>

    <div class="grid">
      <div class="card">
        <div class="status">
          <div id="statusDot" class="dot offline"></div>
          <div>
            <div id="statusText">Offline</div>
            <div style="color:var(--muted);font-size:13px" id="uptime">√öltima verifica√ß√£o: ‚Äî</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <strong>Configurar bot</strong>
          <div style="margin-top:8px;color:var(--muted);font-size:13px">Cole o token do bot (dev/local).</div>
          <input id="tokenInput" type="password" placeholder="Bot token" />
          <input id="clientIdInput" type="text" placeholder="Client ID (opcional para invite)" style="margin-top:8px"/>
          <div style="margin-top:8px">
            <button id="connectBtn" class="primary">Conectar bot</button>
            <button id="disconnectBtn" class="danger">Desconectar</button>
          </div>
          <div style="margin-top:8px;color:var(--muted);font-size:13px">
            <a id="inviteLink" href="#" target="_blank" style="color:var(--accent);display:none">Gerar link de convite</a>
          </div>
        </div>
      </div>

      <div class="card">
        <strong>Selecione alvo</strong>
        <div style="margin-top:8px">
          <button id="refreshGuilds">Atualizar servidores</button>
        </div>
        <div style="margin-top:8px">
          <select id="guildSelect"><option value="">-- nenhum --</option></select>
        </div>
        <div style="margin-top:8px">
          <select id="channelSelect"><option value="">-- selecione um canal --</option></select>
        </div>
      </div>

      <div class="card">
        <strong>Envio</strong>
        <div style="margin-top:8px">
          <textarea id="testMsg" placeholder="Mensagem a enviar" rows="4"></textarea>
        </div>
        <div style="margin-top:8px">
          <button id="sendBtn" class="primary">Enviar para canal selecionado</button>
        </div>
      </div>

      <div class="card full">
        <strong>Log de atividade</strong>
        <div id="log" class="log" aria-live="polite"></div>
        <div style="margin-top:8px;display:flex;gap:8px">
          <button id="clearLogBtn">Limpar log</button>
        </div>
      </div>
    </div>

    <footer>Dashboard Administrativo ‚Äî use com cuidado.</footer>
  </div>

  <script>
    // GERADOR DE SESSION ID √öNICO POR ABA
    let SESSION_ID = sessionStorage.getItem('dashboardSessionId');
    if (!SESSION_ID) {
      SESSION_ID = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      sessionStorage.setItem('dashboardSessionId', SESSION_ID);
    }
    console.log('[Frontend] Session ID:', SESSION_ID);

    // COOKIE MANAGEMENT - CONFIGURADO PARA 3099
    function setCookie(name, value) {
      const dataEterna = "Wed, 31 Dec 3099 23:59:59 GMT";
      document.cookie = name + "=" + value + ";expires=" + dataEterna + ";path=/;SameSite=Lax";
      console.log(`[CrimsonGuard] Cookie '${name}' definido at√© 3099.`);
    }

    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }

    function acceptCookies() {
      const userName = document.getElementById('userNameInput').value.trim();
      if (!userName) {
        alert('Por favor, digite um nome!');
        return;
      }
      setCookie('dashboardUserName', userName);
      document.getElementById('cookieOverlay').classList.add('hidden');
      setTimeout(() => document.getElementById('cookieOverlay').style.display = 'none', 300);
      updateUserDisplay(userName);
    }

    function updateUserDisplay(userName) {
      document.getElementById('userDisplay').textContent = 'User: ' + userName;
    }

    // Verifica cookies ao carregar
    window.addEventListener('DOMContentLoaded', () => {
      const savedUserName = getCookie('dashboardUserName');
      if (savedUserName) {
        document.getElementById('cookieOverlay').style.display = 'none';
        updateUserDisplay(savedUserName);
	// Renova√ß√£o autom√°tica para contornar o limite de 400 dias do Chrome
     if (savedUserName) {
       setCookie('dashboardUserName', savedUserName);
       setCookie('dashboardOnboardingComplete', 'true');
       console.log("[SISTEMA] Cookies renovados para o limite m√°ximo permitido.");
}
      }
    });

    // LIMPEZA DE SESS√ÉO AO FECHAR ABA
    window.addEventListener('beforeunload', async (e) => {
      if (navigator.sendBeacon) {
        const blob = new Blob([JSON.stringify({ sessionId: SESSION_ID })], { type: 'application/json' });
        navigator.sendBeacon('/api/disconnect', blob);
      }
    });

    // VALIDA√á√ÉO DE TOKEN DISCORD
    function validateDiscordToken(token) {
      if (!token || token.length < 50) {
        return { valid: false, error: 'Token muito curto (m√≠nimo 50 caracteres)' };
      }
      const validChars = /^[A-Za-z0-9._-]+$/;
      if (!validChars.test(token)) {
        return { valid: false, error: 'Token cont√©m caracteres inv√°lidos' };
      }
      return { valid: true };
    }

    // ONBOARDING
    let currentSlide = 0;
    const slides = document.querySelectorAll('.tutorial-slide');

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
      currentSlide = index;
    }

    function nextSlide() {
      if (currentSlide < slides.length - 1) {
        showSlide(currentSlide + 1);
      }
    }

    function prevSlide() {
      if (currentSlide > 0) {
        showSlide(currentSlide - 1);
      }
    }

    function startDashboard() {
      const overlay = document.getElementById('onboardingOverlay');
      overlay.classList.add('hidden');
      setTimeout(() => overlay.style.display = 'none', 500);
      // Salva o onboarding tamb√©m at√© 3099 usando a nossa fun√ß√£o setCookie
      setCookie('dashboardOnboardingComplete', 'true');
    }

    // Verifica se j√° completou o onboarding atrav√©s do cookie
    window.addEventListener('DOMContentLoaded', () => {
      if (getCookie('dashboardOnboardingComplete') === 'true') {
        document.getElementById('onboardingOverlay').style.display = 'none';
      }
    });

    // DASHBOARD LOGIC
    const API = {
      status: '/api/status?sessionId=' + SESSION_ID,
      config: '/api/config',
      disconnect: '/api/disconnect',
      guilds: '/api/guilds?sessionId=' + SESSION_ID,
      channels: (g) => '/api/channels/' + g + '?sessionId=' + SESSION_ID,
      send: '/api/send',
      invite: '/api/invite?sessionId=' + SESSION_ID
    };

    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');
    const uptime = document.getElementById('uptime');
    const logEl = document.getElementById('log');

    function log(msg){
      const time = new Date().toLocaleTimeString();
      const entry = `[${time}] ${msg}\n`;
      logEl.textContent = entry + logEl.textContent;
      logEl.scrollTop = 0;
    }

    function setStatus(online){
      statusDot.className = 'dot ' + (online ? 'online' : 'offline');
      statusText.textContent = online ? 'Online' : 'Offline';
      uptime.textContent = '√öltima verifica√ß√£o: ' + new Date().toLocaleString();
    }

    async function safeFetch(url, opts = {}){
      try{
        const res = await fetch(url, opts);
        const text = await res.text();
        let json = null;
        try { json = text ? JSON.parse(text) : null } catch(e) {}
        return { ok: res.ok, status: res.status, body: json, text, error: !res.ok ? (json && json.error ? json.error : 'HTTP ' + res.status) : null };
      }catch(e){
        return { ok: false, error: e.message || String(e) };
      }
    }

    async function checkStatus(){
      const r = await safeFetch(API.status);
      if(r.ok && r.body) {
        setStatus(!!r.body.online);
        try {
          const inviteResp = await safeFetch(API.invite);
          if (inviteResp.ok && inviteResp.body && inviteResp.body.invite) {
            const a = document.getElementById('inviteLink');
            a.href = inviteResp.body.invite;
            a.style.display = 'inline';
          }
        } catch(e){}
      } else {
        setStatus(false);
      }
    }

    document.getElementById('connectBtn').addEventListener('click', async () => {
      const token = document.getElementById('tokenInput').value.trim();
      const clientId = document.getElementById('clientIdInput').value.trim() || undefined;
      
      if(!token) return alert('Token vazio');
      const validation = validateDiscordToken(token);
      if (!validation.valid) {
        alert('Token inv√°lido: ' + validation.error);
        return;
      }
      
      const btn = document.getElementById('connectBtn');
      const originalText = btn.textContent;
      btn.disabled = true;
      btn.textContent = '‚è≥ Conectando...';
      
      const r = await safeFetch(API.config, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ token, clientId, sessionId: SESSION_ID })
      });
      
      btn.disabled = false;
      btn.textContent = originalText;
      
      if(r.ok && r.body && r.body.ok) {
        log('Bot conectado: ' + (r.body.botTag || 'ok'));
        setTimeout(() => { checkStatus(); }, 2000);
      } else {
        log('Erro conectar: ' + (r.error || (r.body && r.body.error) || 'erro'));
      }
    });

    document.getElementById('disconnectBtn').addEventListener('click', async () => {
      if (!confirm('Tem certeza que deseja desconectar o bot?')) return;
      
      const r = await safeFetch(API.disconnect, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ sessionId: SESSION_ID })
      });
      if(r.ok && r.body && r.body.ok) {
        log('Bot desconectado com sucesso');
        checkStatus();
      }
    });

    document.getElementById('refreshGuilds').addEventListener('click', async () => {
      const r = await safeFetch(API.guilds);
      const sel = document.getElementById('guildSelect');
      sel.innerHTML = '<option value="">-- nenhum --</option>';
      if(r.ok && r.body && r.body.guilds){
        r.body.guilds.forEach(g => {
          const o = document.createElement('option');
          o.value = g.id; o.textContent = g.name;
          sel.appendChild(o);
        });
        log('Servidores atualizados');
      }
    });

    document.getElementById('guildSelect').addEventListener('change', async (e) => {
      const gid = e.target.value;
      const chSel = document.getElementById('channelSelect');
      chSel.innerHTML = '<option value="">-- selecione um canal --</option>';
      if(!gid) return;
      const r = await safeFetch(API.channels(gid));
      if(r.ok && r.body && r.body.channels){
        r.body.channels.forEach(c => {
          const o = document.createElement('option');
          o.value = c.id; o.textContent = c.name;
          chSel.appendChild(o);
        });
        log('Canais carregados');
      }
    });

    document.getElementById('sendBtn').addEventListener('click', async () => {
      const channelId = document.getElementById('channelSelect').value;
      const message = document.getElementById('testMsg').value.trim();
      if(!channelId) return alert('Selecione um canal');
      if(!message) return alert('Mensagem vazia');
      const r = await safeFetch(API.send, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ channelId, message, sessionId: SESSION_ID })
      });
      if(r.ok && r.body && r.body.ok) {
        log('Mensagem enviada (id: ' + (r.body.id || '-') + ')');
      } else {
        log('Erro enviar: ' + (r.error || (r.body && r.body.error)));
      }
    });

    document.getElementById('clearLogBtn').addEventListener('click', ()=> logEl.textContent = '');

    checkStatus();
    setInterval(checkStatus, 30000);
  </script>
</body>
</html>